*** Settings ***
Resource          ../../../../Config/LocalConfig.txt
Resource          ../Resource/PageKeywords/MyAISCommon.txt
Resource          ../Resource/PageKeywords/RoamingPackage_InternationalServicePostpaid.txt

*** Test Cases ***
[F10_Package_2_1_Y_1_2] Verify International service page
    [Documentation]    Owner by : Noon
    ...
    ...    Pre-requirsite : "Source Number : 3PO,3BO
    ...    Status : Active"
    ...
    ...    Test Step :
    ...
    ...    "1. เข้าสู่ระบบ My AIS
    ...
    ...    2. เลือกเมนู ""แพ็กเกจ""
    ...
    ...    3. กดเมนู ""บริการระหว่างประเทศ"
    ...    "
    ...    4. ตรวจสอบหน้า ""บริการระหว่างประเทศ""
    ...    - บริการระหว่างประเทศ
    ...    - เบอร์โทรศัพท์
    ...    - บริการข้ามแดนอัตโนมัติ (IR)
    ...    - บริการโทรทางไกลระหว่างประเทศ
    ...    - เงื่อนไขบริการ
    ...
    ...    5. จับภาพหน้าจอ"
    ...
    ...    Verify point :
    &{#dict_device_name}=    Create Dictionary
    &{#dict_device_name}=    Take And Define Virtual Local Configuration    ${#dict_device_name}    ${lo_MyAIS_Prod_local_config_file_path}    virtual_device_1    ${ar_TAKE_TIMEOUT}    ${ar_NType}=include
    ${Number}    Get From Dictionary    ${virtual_device_1_Number}    ${ar_NType}
    Set Network Connection    ${${ar_NETWORK}}    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_SN}
    ${appiumInfo}    Open My AIS    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}
    Login    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}    ${Number}    ${ar_NETWORK}
    Choose Language    ${ar_LANG}
    Select Menu    Package
    Swipe to element    ${lblInternationalServices}
    Click Mobile Element    ${lblInternationalServices}
    Mobile element name should be    ${lblMobileNumber}    ${Number}
    Mobile element text should be    ${lblHeaderInternationalService}    ${HeaderInternationalService}
    Mobile element text should be    ${lblInternationalRoamingService}    ${InternationalRoamingService}
    Mobile element text should be    ${lblInternationalCallService}    ${InternationalCallService}
    Mobile element text should be    ${lblTerm&Conditions}    ${Term&Conditions}
    Mobile Capture Screen At Verify Point    International Services Page
    [Teardown]    Keywords For Teardown    ${#dict_device_name}

[F10_Package_2_1_Y_2_2] Verify popup message open International Roaming Service
    [Documentation]    Owner by : Noon
    ...
    ...    Pre-requisite: "Source Number : 3PO,3BO
    ...    Status : Active
    ...
    ...
    ...    Test Step:
    ...
    ...    "1. เข้าสู่ระบบ My AIS
    ...
    ...    2. เลือกเมนู ""แพ็กเกจ""
    ...
    ...    3. กดเมนู ""บริการระหว่างประเทศ""
    ...
    ...    4. กดเปิดใช้งาน ""บริการข้ามแดนอัตโนมัติ (IR)""
    ...
    ...    5. ตรวจสอบ popup message ""บริการข้ามแดนอัตโนมัติ (IR) ต้องเปิดใช้งานร่วมกับบริการโทรทางไกลระหว่างประเทศ ระบบจะดำเนินการเปิดบริการให้อัตโนมัติ เพื่อให้คุณสามารถใช้งานได้ตามต้องการ""
    ...
    ...    6. จับภาพหน้าจอ"
    ...
    ...    Verify point
    &{#dict_device_name}=    Create Dictionary
    &{#dict_device_name}=    Take And Define Virtual Local Configuration    ${#dict_device_name}    ${lo_MyAIS_Prod_local_config_file_path}    virtual_device_1    ${ar_TAKE_TIMEOUT}    ${ar_NType}=include
    ${Number}    Get From Dictionary    ${virtual_device_1_Number}    ${ar_NType}
    Set Network Connection    ${${ar_NETWORK}}    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_SN}
    ${appiumInfo}    Open My AIS    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}
    Login    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}    ${Number}    ${ar_NETWORK}
    Choose Language    ${ar_LANG}
    Select Menu    Package
    Swipe to element    ${lblInternationalServices}
    Click Mobile Element    ${lblInternationalServices}
    Switch International service Mode    On
    Mobile element text should be    ${lblPopUpOpenIR}    ${PopUpOpenIR}
    Mobile Capture Screen At Verify Point    Message OpenIR
    [Teardown]    Keywords For Teardown    ${#dict_device_name}

[F10_Package_2_1_Y_3_2] Verify popup message open International Call Service
    [Documentation]    Owner by : Noon
    ...
    ...    Pre-requisite: "Source Number : 3PO,3BO
    ...    Status : Active
    ...
    ...
    ...    Test Step:
    ...
    ...    "1. เข้าสู่ระบบ My AIS
    ...
    ...    2. เลือกเมนู ""แพ็กเกจ""
    ...
    ...    3. กดเมนู ""บริการระหว่างประเทศ""
    ...
    ...    4. กดเปิดใช้งาน ""บริการโทรทางไกลระหว่างประเทศ""
    ...
    ...    5. ตรวจสอบ popup message ""คุณเปิดบริการโทรทางไกลระหว่างประเทศเรียบร้อยแล้ว กรุณารอรับ SMS ยืนยันการทำรายการ""
    ...
    ...    6. จับภาพหน้าจอ"
    ...
    ...
    ...    Verify point
    &{#dict_device_name}=    Create Dictionary
    &{#dict_device_name}=    Take And Define Virtual Local Configuration    ${#dict_device_name}    ${lo_MyAIS_Prod_local_config_file_path}    virtual_device_1    ${ar_TAKE_TIMEOUT}    ${ar_NType}=include
    ${Number}    Get From Dictionary    ${virtual_device_1_Number}    ${ar_NType}
    Set Network Connection    ${${ar_NETWORK}}    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_SN}
    ${appiumInfo}    Open My AIS    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}
    Login    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}    ${Number}    ${ar_NETWORK}
    Choose Language    ${ar_LANG}
    Select Menu    Package
    Swipe to element    ${lblInternationalServices}
    Click Mobile Element    ${lblInternationalServices}
    Switch InternationalCall Service mode    On
    Mobile element text should be    ${lblPopUpOpenInternationalCallService}    ${PopUpOpenInternationalCallService}
    Mobile Capture Screen At Verify Point    Message OpenInternationalCallService
    [Teardown]    Keywords For Teardown    ${#dict_device_name}

[F10_Package_2_1_Y_4_2] Verify popup message close International Roaming Service
    [Documentation]    Owner by : Noon
    ...
    ...    Pre-requisite: "Source Number : 3PO,3BO
    ...    Status : Active
    ...
    ...
    ...    Test Step:
    ...    "1. เข้าสู่ระบบ My AIS
    ...
    ...
    ...    2. เลือกเมนู ""แพ็กเกจ""
    ...
    ...
    ...    3. กดเมนู ""บริการระหว่างประเทศ""
    ...
    ...
    ...    4. กดเปิดใช้งาน ""บริการข้ามแดนอัตโนมัติ (IR)""
    ...
    ...
    ...    5. กด ""ตกลง"" (popup เปิด IR)
    ...
    ...
    ...    6. กด ""ตกลง"" (popup เปิด IDD)
    ...
    ...
    ...    7. กดปิดใช้งาน ""บริการข้ามแดนอัตโนมัติ (IR)""
    ...
    ...
    ...    8. ตรวจสอบ popup message ""คุณปิดบริการข้ามแดนอัตโนมัติ(IR) เรียบร้อยแล้ว กรุณารอรับ SMS ยืนยันการทำรายการ""
    ...
    ...
    ...    9. จับภาพหน้าจอ"
    ...
    ...
    ...
    ...    Verify point
    &{#dict_device_name}=    Create Dictionary
    &{#dict_device_name}=    Take And Define Virtual Local Configuration    ${#dict_device_name}    ${lo_MyAIS_Prod_local_config_file_path}    virtual_device_1    ${ar_TAKE_TIMEOUT}    ${ar_NType}=include
    ${Number}    Get From Dictionary    ${virtual_device_1_Number}    ${ar_NType}
    Set Network Connection    ${${ar_NETWORK}}    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_SN}
    ${appiumInfo}    Open My AIS    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}
    Login    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}    ${Number}    ${ar_NETWORK}
    Choose Language    ${ar_LANG}
    Select Menu    Package
    Swipe to element    ${lblInternationalServices}
    Click Mobile Element    ${lblInternationalServices}
    Switch International service Mode    On
    Click Mobile Element    ${btnOkOpenInternationalRoamingService}
    Click Mobile Element    ${btnConfirmOpenIR}
    Click Mobile Element    ${btnBackRoamingPage}
    Sleep    30s
    Click Mobile Element    ${lblInternationalServices}
    Sleep    10s
    Switch International service Mode    Off
    Sleep    10s
    Mobile element text should be    ${lblPopUpCloseIR}    ${PopUpCloseIR}
    Mobile Capture Screen At Verify Point    Message CloseInternationalRoamingService
    [Teardown]    Keywords For Teardown    ${#dict_device_name}

[F10_Package_2_1_Y_5_2] Verify popup message close International Call Service
    [Documentation]    Owner by : Noon
    ...
    ...    Pre-requisite: "Source Number : 3PO,3BO
    ...    Status : Active
    ...
    ...
    ...    Test Step:
    ...
    ...    "1. เข้าสู่ระบบ My AIS
    ...
    ...
    ...    2. เลือกเมนู ""แพ็กเกจ""
    ...
    ...
    ...    3. กดเมนู ""บริการระหว่างประเทศ""
    ...
    ...
    ...    4. กดเปิดใช้งาน ""บริการข้ามแดนอัตโนมัติ (IR)""
    ...
    ...
    ...    5. กด ""ตกลง"" (popup เปิด IR)
    ...
    ...
    ...    6. กด ""ตกลง"" (popup เปิด IDD)
    ...
    ...
    ...    7. กดปิดใช้งาน ""บริการข้ามแดนอัตโนมัติ (IR)""
    ...
    ...
    ...    8. กด ""ตกลง""
    ...
    ...
    ...    9. กดปิดใช้งาน ""บริการโทรทางไกลระหว่างประเทศ""
    ...
    ...
    ...    10. ตรวจสอบ popup message ""คุณปิดบริการโทรทางไกลระหว่างประเทศเรียบร้อยแล้ว กรุณารอรับ SMS ยืนยันการทำรายการ""
    ...
    ...
    ...    11. จับภาพหน้าจอ"
    ...
    ...
    ...
    ...    Verify point
    &{#dict_device_name}=    Create Dictionary
    &{#dict_device_name}=    Take And Define Virtual Local Configuration    ${#dict_device_name}    ${lo_MyAIS_Prod_local_config_file_path}    virtual_device_1    ${ar_TAKE_TIMEOUT}    ${ar_NType}=include
    ${Number}    Get From Dictionary    ${virtual_device_1_Number}    ${ar_NType}
    Set Network Connection    ${${ar_NETWORK}}    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_SN}
    ${appiumInfo}    Open My AIS    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}
    Login    ${virtual_device_1_IPAppium}    ${virtual_device_1_Platfrom_Name}    ${virtual_device_1_Platfrom_Version}    ${virtual_device_1_SN}    ${Number}    ${ar_NETWORK}
    Choose Language    ${ar_LANG}
    Select Menu    Package
    Swipe to element    ${lblInternationalServices}
    Click Mobile Element    ${lblInternationalServices}
    Switch International service Mode    On
    Click Mobile Element    ${btnOkOpenInternationalRoamingService}
    Click Mobile Element    ${btnConfirmOpenIR}
    Click Mobile Element    ${btnBackRoamingPage}
    Sleep    30s
    Click Mobile Element    ${lblInternationalServices}
    Switch International service Mode    Off
    Click Mobile Element    ${btnCloseIR}
    sleep    10s
    Click Mobile Element    ${btnBackRoamingPage}
    sleep    10s
    Click Mobile Element    ${lblInternationalServices}
    sleep    30s
    Switch InternationalCall Service mode    Off
    sleep    5s
    Mobile element text should be    ${lblPopupMessageCloseInternationalCall}    ${PopupMessageCloseInternationalCall}
    Mobile Capture Screen At Verify Point    CloseInternationalCallservice
    [Teardown]    Keywords For Teardown    ${#dict_device_name}
